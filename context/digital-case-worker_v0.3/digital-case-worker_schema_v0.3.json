{
  "project_title": "Digital Case Worker Research DB \u2014 Schema & Entry UX",
  "version": "0.3",
  "updated_at": "2025-09-01T17:00:00",
  "sanitized": true,
  "decisions": {
    "separate_practices_table": true,
    "roles_as_junction": true,
    "human_display_columns": true,
    "snake_case_ids": true
  },
  "entities": [
    {
      "name": "People",
      "id_field": "person_id",
      "display_field": "full_name",
      "fields": [
        {
          "key": "person_id",
          "label": "Person ID",
          "type": "id",
          "visibility": "hidden",
          "required": true
        },
        {
          "key": "full_name",
          "label": "Full Name",
          "type": "text",
          "required": true
        },
        {
          "key": "email",
          "label": "Email",
          "type": "email"
        },
        {
          "key": "phone",
          "label": "Phone",
          "type": "phone"
        },
        {
          "key": "website_url",
          "label": "Website",
          "type": "url"
        },
        {
          "key": "social_links",
          "label": "Social Links",
          "type": "text"
        },
        {
          "key": "pronouns",
          "label": "Pronouns",
          "type": "text"
        },
        {
          "key": "person_tags",
          "label": "Tags",
          "type": "multi_select"
        },
        {
          "key": "notes",
          "label": "Notes",
          "type": "rich_text"
        }
      ]
    },
    {
      "name": "Practices",
      "id_field": "practice_id",
      "display_field": "practice_name",
      "fields": [
        {
          "key": "practice_id",
          "label": "Practice ID",
          "type": "id",
          "visibility": "hidden",
          "required": true
        },
        {
          "key": "practice_name",
          "label": "Practice Name",
          "type": "text",
          "required": true
        },
        {
          "key": "person_id",
          "label": "Person (Owner)",
          "type": "relation",
          "relation": {
            "to": "People",
            "key": "person_id"
          },
          "required": true
        },
        {
          "key": "intake_url",
          "label": "Intake Link",
          "type": "url"
        },
        {
          "key": "rate_range",
          "label": "Rate Range",
          "type": "text"
        },
        {
          "key": "service_regions",
          "label": "Service Regions",
          "type": "multi_select"
        },
        {
          "key": "is_accepting_clients",
          "label": "Accepting Clients?",
          "type": "boolean"
        },
        {
          "key": "primary_modality",
          "label": "Primary Modality",
          "type": "text"
        },
        {
          "key": "insurance",
          "label": "Insurance",
          "type": "text"
        },
        {
          "key": "notes",
          "label": "Notes",
          "type": "rich_text"
        }
      ]
    },
    {
      "name": "Organizations",
      "id_field": "org_id",
      "display_field": "org_name",
      "fields": [
        {
          "key": "org_id",
          "label": "Org ID",
          "type": "id",
          "visibility": "hidden",
          "required": true
        },
        {
          "key": "org_name",
          "label": "Organization Name",
          "type": "text",
          "required": true
        },
        {
          "key": "org_type",
          "label": "Org Type",
          "type": "select",
          "options": [
            "Brand",
            "Education",
            "Platform",
            "Payment",
            "Investor",
            "Nonprofit",
            "Clinic",
            "Media",
            "Event Host"
          ]
        },
        {
          "key": "org_subtype",
          "label": "Sub-type",
          "type": "text"
        },
        {
          "key": "website_url",
          "label": "Website",
          "type": "url"
        },
        {
          "key": "hq_location",
          "label": "HQ Location",
          "type": "text"
        },
        {
          "key": "description",
          "label": "Description",
          "type": "rich_text"
        },
        {
          "key": "org_tags",
          "label": "Tags",
          "type": "multi_select"
        }
      ]
    },
    {
      "name": "Roles",
      "id_field": "role_id",
      "display_field": null,
      "fields": [
        {
          "key": "role_id",
          "label": "Role ID",
          "type": "id",
          "visibility": "hidden",
          "required": true
        },
        {
          "key": "person_id",
          "label": "Person",
          "type": "relation",
          "relation": {
            "to": "People",
            "key": "person_id"
          },
          "required": true
        },
        {
          "key": "org_id",
          "label": "Organization",
          "type": "relation",
          "relation": {
            "to": "Organizations",
            "key": "org_id"
          },
          "required": true
        },
        {
          "key": "role_title",
          "label": "Role Title",
          "type": "select",
          "options": [
            "Founder",
            "CEO",
            "Staff",
            "Advisor",
            "Investor",
            "Board Member",
            "Educator"
          ]
        },
        {
          "key": "start_date",
          "label": "Start Date",
          "type": "date"
        },
        {
          "key": "end_date",
          "label": "End Date",
          "type": "date"
        },
        {
          "key": "visibility",
          "label": "Visibility",
          "type": "select",
          "options": [
            "public",
            "private",
            "internal"
          ]
        },
        {
          "key": "notes",
          "label": "Notes",
          "type": "rich_text"
        }
      ]
    }
  ],
  "relationships": [
    {
      "from": "Practices.person_id",
      "to": "People.person_id",
      "cardinality": "many_to_one"
    },
    {
      "from": "Roles.person_id",
      "to": "People.person_id",
      "cardinality": "many_to_one"
    },
    {
      "from": "Roles.org_id",
      "to": "Organizations.org_id",
      "cardinality": "many_to_one"
    }
  ],
  "workflows": [
    {
      "name": "Onboard Contact + Practice + Role (Sanitized)",
      "steps": [
        "Create People row (Full Name, Email, Tags)",
        "Create Practices row linked to that Person (Practice Name, Intake Link, Rates, Regions, Availability)",
        "Create Roles row linking Person to Organization with Role Title and dates",
        "Verify backlinks on Person, Practice, and Organization"
      ],
      "example_records": {
        "person": "Sample Practitioner",
        "practice": "Sample Wellness Clinic",
        "organization": "Professional Association",
        "role_title": "Board Member"
      }
    }
  ],
  "views": [
    {
      "name": "Recent People",
      "entity": "People",
      "filter": "Created > Today()-7",
      "sort": "Created DESC"
    },
    {
      "name": "Recent Practices",
      "entity": "Practices",
      "filter": "Created > Today()-7",
      "sort": "Created DESC"
    },
    {
      "name": "Recent Roles",
      "entity": "Roles",
      "filter": "Created > Today()-7",
      "sort": "Created DESC"
    },
    {
      "name": "Active Practices",
      "entity": "Practices",
      "filter": "is_accepting_clients = true",
      "sort": "practice_name ASC"
    }
  ],
  "llm_guidance": {
    "intake": [
      "Ask if a new Person should also create a Practice.",
      "Normalize org_type and role_title to existing vocab when possible."
    ],
    "import": [
      "Load CSVs to staging tables, deduplicate by website+name, then upsert to canonical tables using IDs."
    ],
    "updates": [
      "If a display name changes, keep the ID stable; re-link roles if a merge happens."
    ]
  }
}